{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { GameService } from './game.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./game.service\";\nexport class AppService {\n  constructor(gameService) {\n    this.gameService = gameService;\n    this.isImageLoaded = new EventEmitter();\n  }\n  createPlayGround(canvasElement) {\n    this.gameService.loadAssets(canvasElement).then(image => {\n      setTimeout(() => {\n        this.isImageLoaded.emit();\n      }, 1000);\n    });\n  }\n  getImageLoadEmitter() {\n    return this.isImageLoaded;\n  }\n  movePlayer(event, type) {\n    if (type === 'keydown') {\n      if (event.keyCode === 37) {\n        this.gameService.moveLeft = true;\n        this.gameService.moveUP = false;\n        this.gameService.moveDown = false;\n      } else if (event.keyCode === 39) {\n        this.gameService.moveRight = true;\n        this.gameService.moveLeft = false;\n        this.gameService.moveUP = false;\n        this.gameService.moveDown = false;\n      } else if (event.keyCode === 38) {\n        this.gameService.moveUP = true;\n        this.gameService.moveLeft = false;\n        this.gameService.moveRight = false;\n        this.gameService.moveDown = false;\n      } else if (event.keyCode === 40) {\n        this.gameService.moveDown = true;\n        this.gameService.moveLeft = false;\n        this.gameService.moveRight = false;\n        this.gameService.moveUP = false;\n      }\n    } else if (type === 'keyup') {\n      this.gameService.moveDown = false;\n      this.gameService.moveLeft = false;\n      this.gameService.moveRight = false;\n      this.gameService.moveUP = false;\n    }\n  }\n}\nAppService.ɵfac = function AppService_Factory(t) {\n  return new (t || AppService)(i0.ɵɵinject(i1.GameService));\n};\nAppService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AppService,\n  factory: AppService.ɵfac\n});","map":{"version":3,"names":["EventEmitter","GameService","AppService","constructor","gameService","isImageLoaded","createPlayGround","canvasElement","loadAssets","then","image","setTimeout","emit","getImageLoadEmitter","movePlayer","event","type","keyCode","moveLeft","moveUP","moveDown","moveRight","i0","ɵɵinject","i1","factory","ɵfac"],"sources":["C:\\Users\\bhavn\\carracingpoc\\src\\app\\services\\app.service.ts"],"sourcesContent":["import { Injectable, EventEmitter } from '@angular/core';\r\nimport { GameService } from './game.service';\r\n\r\n@Injectable()\r\nexport class AppService {\r\n\r\n\tisImageLoaded: EventEmitter<number> = new EventEmitter();\r\n\tconstructor(private gameService: GameService) { }\r\n\r\n\tcreatePlayGround(canvasElement): void {\r\n\t\tthis.gameService.loadAssets(canvasElement).then( (image) => {\r\n      setTimeout( () =>{\r\n        \tthis.isImageLoaded.emit();\r\n      },1000);\r\n\t\t});\r\n\t}\r\n\r\n\tgetImageLoadEmitter() {\r\n\t\treturn this.isImageLoaded;\r\n\t}\r\n\r\n\tmovePlayer(event: KeyboardEvent, type: string): void {\r\n\t\tif (type === 'keydown') {\r\n\t\t\tif (event.keyCode === 37) {\r\n\t\t\t\tthis.gameService.moveLeft = true;\r\n\t\t\t\tthis.gameService.moveUP = false;\r\n\t\t\t\tthis.gameService.moveDown = false;\r\n\t\t\t} else if (event.keyCode === 39) {\r\n\t\t\t\tthis.gameService.moveRight = true;\r\n\t\t\t\tthis.gameService.moveLeft = false;\r\n\t\t\t\tthis.gameService.moveUP = false;\r\n\t\t\t\tthis.gameService.moveDown = false;\r\n\t\t\t} else if (event.keyCode === 38) {\r\n\t\t\t\tthis.gameService.moveUP = true;\r\n\t\t\t\tthis.gameService.moveLeft = false;\r\n\t\t\t\tthis.gameService.moveRight = false;\r\n\t\t\t\tthis.gameService.moveDown = false;\r\n\t\t\t} else if (event.keyCode === 40) {\r\n\t\t\t\tthis.gameService.moveDown = true;\r\n\t\t\t\tthis.gameService.moveLeft = false;\r\n\t\t\t\tthis.gameService.moveRight = false;\r\n\t\t\t\tthis.gameService.moveUP = false;\r\n\t\t\t}\r\n\t\t} else if (type === 'keyup') {\r\n\t\t\tthis.gameService.moveDown = false;\r\n\t\t\tthis.gameService.moveLeft = false;\r\n\t\t\tthis.gameService.moveRight = false;\r\n\t\t\tthis.gameService.moveUP = false;\r\n\t\t}\r\n\t}\r\n}\r\n"],"mappings":"AAAA,SAAqBA,YAAY,QAAQ,eAAe;AACxD,SAASC,WAAW,QAAQ,gBAAgB;;;AAG5C,OAAM,MAAOC,UAAU;EAGtBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAD/B,KAAAC,aAAa,GAAyB,IAAIL,YAAY,EAAE;EACR;EAEhDM,gBAAgBA,CAACC,aAAa;IAC7B,IAAI,CAACH,WAAW,CAACI,UAAU,CAACD,aAAa,CAAC,CAACE,IAAI,CAAGC,KAAK,IAAI;MACvDC,UAAU,CAAE,MAAK;QACd,IAAI,CAACN,aAAa,CAACO,IAAI,EAAE;MAC5B,CAAC,EAAC,IAAI,CAAC;IACX,CAAC,CAAC;EACH;EAEAC,mBAAmBA,CAAA;IAClB,OAAO,IAAI,CAACR,aAAa;EAC1B;EAEAS,UAAUA,CAACC,KAAoB,EAAEC,IAAY;IAC5C,IAAIA,IAAI,KAAK,SAAS,EAAE;MACvB,IAAID,KAAK,CAACE,OAAO,KAAK,EAAE,EAAE;QACzB,IAAI,CAACb,WAAW,CAACc,QAAQ,GAAG,IAAI;QAChC,IAAI,CAACd,WAAW,CAACe,MAAM,GAAG,KAAK;QAC/B,IAAI,CAACf,WAAW,CAACgB,QAAQ,GAAG,KAAK;OACjC,MAAM,IAAIL,KAAK,CAACE,OAAO,KAAK,EAAE,EAAE;QAChC,IAAI,CAACb,WAAW,CAACiB,SAAS,GAAG,IAAI;QACjC,IAAI,CAACjB,WAAW,CAACc,QAAQ,GAAG,KAAK;QACjC,IAAI,CAACd,WAAW,CAACe,MAAM,GAAG,KAAK;QAC/B,IAAI,CAACf,WAAW,CAACgB,QAAQ,GAAG,KAAK;OACjC,MAAM,IAAIL,KAAK,CAACE,OAAO,KAAK,EAAE,EAAE;QAChC,IAAI,CAACb,WAAW,CAACe,MAAM,GAAG,IAAI;QAC9B,IAAI,CAACf,WAAW,CAACc,QAAQ,GAAG,KAAK;QACjC,IAAI,CAACd,WAAW,CAACiB,SAAS,GAAG,KAAK;QAClC,IAAI,CAACjB,WAAW,CAACgB,QAAQ,GAAG,KAAK;OACjC,MAAM,IAAIL,KAAK,CAACE,OAAO,KAAK,EAAE,EAAE;QAChC,IAAI,CAACb,WAAW,CAACgB,QAAQ,GAAG,IAAI;QAChC,IAAI,CAAChB,WAAW,CAACc,QAAQ,GAAG,KAAK;QACjC,IAAI,CAACd,WAAW,CAACiB,SAAS,GAAG,KAAK;QAClC,IAAI,CAACjB,WAAW,CAACe,MAAM,GAAG,KAAK;;KAEhC,MAAM,IAAIH,IAAI,KAAK,OAAO,EAAE;MAC5B,IAAI,CAACZ,WAAW,CAACgB,QAAQ,GAAG,KAAK;MACjC,IAAI,CAAChB,WAAW,CAACc,QAAQ,GAAG,KAAK;MACjC,IAAI,CAACd,WAAW,CAACiB,SAAS,GAAG,KAAK;MAClC,IAAI,CAACjB,WAAW,CAACe,MAAM,GAAG,KAAK;;EAEjC;;AA7CYjB,UAAU,C;mBAAVA,UAAU,EAAAoB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAvB,WAAA;AAAA;AAAVC,UAAU,C;SAAVA,UAAU;EAAAuB,OAAA,EAAVvB,UAAU,CAAAwB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}